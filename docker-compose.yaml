services:

  prometheus:
    image: prom/prometheus:v3.7.3
    volumes:
      - "./prometheus/config.yaml:/etc/prometheus/config.yaml"
      - "prometheus-data:/prometheus"
    command:
      - "--config.file"
      - "/etc/prometheus/config.yaml"
    ports:
      - 9090:9090

  node-exporter:
    image: prom/node-exporter:v1.10.2
    command:
      - "--path.rootfs"
      - "/host"
    pid: host
    volumes:
      - "/:/host:ro"
    ports:
      - "9100:9100"

volumes:
  prometheus-data:
